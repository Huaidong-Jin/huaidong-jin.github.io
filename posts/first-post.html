<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥æœ¬ã®é‡‘èæ¥­ç•Œ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–åˆ†æãƒ¬ãƒãƒ¼ãƒˆ (Gemini AIæ­è¼‰ç‰ˆ) - Huaidong Jin</title>
    <link rel="stylesheet" href="/jimmykin-website/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .nav-button {
            transition: all 0.3s ease;
        }
        .nav-button.active {
            background-color: #0369a1;
            color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .content-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .flow-diagram-box {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .flow-diagram-box.active, .flow-diagram-box:hover {
            background-color: #e0f2fe;
            border-color: #0369a1;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 450px;
            }
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 0.5rem;
            width: 90%;
            max-width: 48rem;
            max-height: 80vh;
            overflow-y: auto;
            transform: scale(0.95);
            transition: all 0.3s ease;
        }
        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(0,0,0,.1);
            border-radius: 50%;
            border-top-color: #0369a1;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">
    <!-- Application Structure Plan: A top-level navigation system filters a central dashboard. The default 'Overview' view shows macro trends (Transformation, Challenges, Future). Selecting a sector (Banking, Securities, Insurance) updates the dashboard to show a sector-specific snapshot, an interactive HTML/CSS workflow diagram, and a comparable financial performance chart. This structure prioritizes user-driven exploration and direct comparison over the report's linear narrative, making complex information digestible and engaging. -->
    <!-- Visualization & Content Choices: 1. Financial Performance: Interactive Bar Chart (Chart.js) to compare key players across multiple metrics (revenue, profit) selected by the user. Goal: Compare. Justification: Dynamic comparison in a single component. 2. Operational Flow: Interactive Diagram (HTML/Tailwind) with clickable stages (Front/Middle/Back Office) that reveal detailed text. Goal: Organize/Explain. Justification: Visually intuitive and interactive alternative to static text; avoids SVG/Mermaid. 3. Transformation Drivers/Challenges: Interactive Cards (HTML/Tailwind) that expand/show modals on click. Goal: Inform. Justification: Breaks down text, encourages exploration. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <div class="min-h-screen">
        <header class="bg-white shadow-sm sticky top-0 z-40">
            <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8">
                <div class="flex flex-col sm:flex-row justify-between items-center">
                    <div class="flex items-center space-x-4 mb-4 sm:mb-0">
                        <a href="/jimmykin-website/" class="text-2xl font-bold text-slate-900 hover:text-sky-600 transition">HJ</a>
                        <div class="hidden sm:flex space-x-4">
                            <a href="/jimmykin-website/" class="text-slate-600 hover:text-slate-900 transition">Home</a>
                            <a href="/jimmykin-website/about.html" class="text-slate-600 hover:text-slate-900 transition">About</a>
                            <a href="/jimmykin-website/posts/first-post.html" class="text-sky-600 font-semibold">Blog</a>
                            <a href="https://github.com/JimmyKin" target="_blank" class="text-slate-600 hover:text-slate-900 transition">Projects</a>
                        </div>
                    </div>
                    <h1 class="text-2xl font-bold text-slate-900 text-center sm:text-left">æ—¥æœ¬ã®é‡‘èæ¥­ç•Œ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–åˆ†æ</h1>
                    <nav id="main-nav" class="flex flex-wrap justify-center space-x-2 mt-4 sm:mt-0">
                        <button data-view="overview" class="nav-button active font-semibold py-2 px-4 rounded-full text-sm sm:text-base">å…¨ä½“åƒ</button>
                        <button data-view="banking" class="nav-button font-semibold py-2 px-4 rounded-full text-sm sm:text-base">éŠ€è¡Œ</button>
                        <button data-view="securities" class="nav-button font-semibold py-2 px-4 rounded-full text-sm sm:text-base">è¨¼åˆ¸</button>
                        <button data-view="insurance" class="nav-button font-semibold py-2 px-4 rounded-full text-sm sm:text-base">ä¿é™º</button>
                    </nav>
                </div>
                <div class="mt-4 text-center">
                    <div class="text-sm text-slate-600">
                        <span class="date">2025å¹´06æœˆ16æ—¥</span>
                        <span class="mx-2">â€¢</span>
                        <span class="author">by Huaidong Jin</span>
                    </div>
                </div>
            </div>
        </header>

        <main id="app-content" class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <!-- Content will be rendered here by JavaScript -->
        </main>
    </div>

    <!-- Modal Structure -->
    <div id="modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="modal-title" class="text-2xl font-bold mb-4 text-slate-800"></h2>
            <div id="modal-body" class="prose max-w-none text-slate-600"></div>
            <button id="modal-close" class="mt-6 bg-sky-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-700 transition">é–‰ã˜ã‚‹</button>
        </div>
    </div>

    <script>
const reportData = {
    overview: {
        title: "æ—¥æœ¬ã®é‡‘èãƒ©ãƒ³ãƒ‰ã‚¹ã‚±ãƒ¼ãƒ—ã®å¤‰é©",
        intro: "æ—¥æœ¬ã®é‡‘èæ©Ÿé–¢ã¯ã€é‡‘åˆ©ç’°å¢ƒã®å¤‰åŒ–ã€ãƒ‡ã‚¸ã‚¿ãƒ«ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆDXï¼‰ã®ç·Šæ€¥æ€§ã€ãã—ã¦æ·±åˆ»ãªäººå£å‹•æ…‹ã®å¤‰åŒ–ã¨ã„ã†ã€Œä¸‰é‡ã®æŒ‘æˆ¦ã€ã«ç›´é¢ã—ã€ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã®æ ¹æœ¬çš„ãªå†å‰µé€ ã‚’è¿«ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€æ¥­ç•Œå…¨ä½“ã‚’å‹•ã‹ã™å¤‰é©ã®åŠ›ã€å…±é€šã®èª²é¡Œã€ãã—ã¦æœªæ¥ã®å±•æœ›ã‚’æ¢ã‚Šã¾ã™ã€‚",
        sections: [
            { 
                title: "æ¥­ç•Œå¤‰é©ã®ä¸»è¦å› ",
                type: 'cards',
                items: [
                    { id: 'dx', title: 'DXã®ç·Šæ€¥æ€§', icon: 'ğŸ’»', content: "ã€Œ2025å¹´ã®å´–ã€ãŒè±¡å¾´ã™ã‚‹ã‚ˆã†ã«ã€è€æœ½åŒ–ã—ãŸãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®å­˜åœ¨ã¯ã€ç«¶äº‰åŠ›ã ã‘ã§ãªãæ¥­å‹™å®‰å®šæ€§ã‚’ã‚‚è„…ã‹ã™æœ€å¤§ã®èª²é¡Œã§ã™ã€‚å¤šãã®é‡‘èæ©Ÿé–¢ã¯ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰æˆ¦ç•¥ã‚’æ¡ç”¨ã—ã€æ®µéšçš„ãªè¿‘ä»£åŒ–ã‚’é€²ã‚ã¦ã„ã¾ã™ãŒã€æŠ€è¡“çš„è² å‚µã®å…‹æœã¯ä¾ç„¶ã¨ã—ã¦å¤§ããªæŒ‘æˆ¦ã§ã™ã€‚" },
                    { id: 'fintech', title: 'ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ã¨ã®é€£æº', icon: 'ğŸ¤', content: "æ—¥æœ¬ã®ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¯ã€æ—¢å­˜é‡‘èæ©Ÿé–¢ã¨ã®ã€Œå”èª¿ã€ã‚’ç‰¹å¾´ã¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šå®‰å®šã—ãŸã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ã«ãªã‚‹ä¸€æ–¹ã€ç ´å£Šçš„ãªå¤‰é©ãŒç”Ÿã¾ã‚Œã«ãã„ã¨ã„ã†å´é¢ã‚‚ã‚ã‚Šã¾ã™ã€‚æ±ºæ¸ˆã€ãƒ­ãƒœã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ãªã©ã®åˆ†é‡ã§é©æ–°ãŒé€²ã‚“ã§ã„ã¾ã™ã€‚" },
                    { id: 'regulation', title: 'æ–°ãŸãªé‡‘èæ”¿ç­–ã¨è¦åˆ¶', icon: 'âš–ï¸', content: "2024å¹´3æœˆã®ãƒã‚¤ãƒŠã‚¹é‡‘åˆ©æ”¿ç­–è§£é™¤ã¯ã€é‡‘èæ¥­ç•Œã«ã¨ã£ã¦æ•°åå¹´æ¥ã®å¤§ããªè»¢æ›ç‚¹ã§ã™ã€‚åç›Šæ©Ÿä¼šãŒç”Ÿã¾ã‚Œã‚‹ä¸€æ–¹ã€ä½é‡‘åˆ©æ™‚ä»£ã«è“„ç©ã•ã‚ŒãŸãƒªã‚¹ã‚¯ã®ç®¡ç†ãŒé‡è¦ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€æ”¿åºœã¯ã€Œè²¯è“„ã‹ã‚‰æŠ•è³‡ã¸ã€ã‚’ä¿ƒã™NISAæ‹¡å……ãªã©ã‚’æ¨é€²ã—ã¦ã„ã¾ã™ã€‚" },
                    { id: 'esg', title: 'ESGçµŒå–¶ã®æµ¸é€', icon: 'ğŸŒ¿', content: "æ—¥æœ¬ã®ESGã¯ã€å€«ç†çš„ãªå´é¢ã ã‘ã§ãªãã€å›½ã®çµŒæ¸ˆæˆ¦ç•¥ã¨ã—ã¦æ¨é€²ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¸–ç•Œæœ€å¤§ã®å¹´é‡‘åŸºé‡‘ã§ã‚ã‚‹GPIFã®å‹•ãã«ç‰½å¼•ã•ã‚Œã€ã‚°ãƒªãƒ¼ãƒ³ãƒœãƒ³ãƒ‰ã‚„ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£ãƒ»ãƒªãƒ³ã‚¯ãƒ»ãƒ­ãƒ¼ãƒ³ãªã©ã€ESGé–¢é€£ã®é‡‘èå•†å“ãŒä¸»æµã«ãªã‚Šã¤ã¤ã‚ã‚Šã¾ã™ã€‚" }
                ]
            },
            {
                title: "æ¥­ç•Œå…¨ä½“ã®é‡è¦ãªèª²é¡Œ",
                type: 'list',
                intro: 'å„æ¥­ç•Œã«å…±é€šã™ã‚‹èª²é¡Œã¯ã€å¾“æ¥ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆè²©å£²ãƒ»å–å¼•å‡¦ç†ä¸­å¿ƒã®ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã‹ã‚‰ã€é¡§å®¢ä¸­å¿ƒã®é–¢ä¿‚ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒªãƒ¼ãƒ¢ãƒ‡ãƒ«ã¸ã¨è»¢æ›ã™ã‚‹ã“ã¨ã®é›£ã—ã•ã«é›†ç´„ã•ã‚Œã¾ã™ã€‚',
                items: [
                    { title: "éŠ€è¡Œ: ä½é‡‘åˆ©ç’°å¢ƒã®é•·æœŸåŒ–ã¨ãƒ‡ã‚¸ã‚¿ãƒ«ç«¶äº‰ã®æ¿€åŒ–", content: "åç›Šæ€§ã®é«˜ã„å›½å†…äº‹æ¥­ã®æ§‹ç¯‰ã€ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ã‚„ãƒã‚ªãƒãƒ³ã‚¯ã¨ã®ç«¶äº‰ã€ãã—ã¦ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®ç¶­æŒç®¡ç†ã¨ã„ã†ä¸‰é‡è‹¦ã«ç›´é¢ã—ã¦ã„ã¾ã™ã€‚" },
                    { title: "è¨¼åˆ¸: æ‰‹æ•°æ–™åå…¥ã®æ¸›å°‘ã¨æŠ•è³‡å®¶å±¤ã®å¤‰åŒ–", content: "æ‰‹æ•°æ–™ã‚¼ãƒ­åŒ–ã®æ³¢ã«ã‚ˆã‚Šã€å¾“æ¥ã®åç›Šãƒ¢ãƒ‡ãƒ«ãŒå´©å£Šã—ã¤ã¤ã‚ã‚Šã¾ã™ã€‚NISAã§å¸‚å ´ã«å‚å…¥ã—ãŸæ–°ã—ã„ãƒ‡ã‚¸ã‚¿ãƒ«ãƒã‚¤ãƒ†ã‚£ãƒ–ä¸–ä»£ã®ãƒ‹ãƒ¼ã‚ºã«å¿œãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" },
                    { title: "ä¿é™º: äººå£å‹•æ…‹ã®å¤‰åŒ–ã¨åç›Šæ€§ã¸ã®åœ§åŠ›", content: "è¶…é«˜é½¢åŒ–ãƒ»äººå£æ¸›å°‘ã¯ã€ä¿é™ºå•†å“ã®éœ€è¦ã¨æ”¯æ‰•ã„ã®ä¸¡é¢ã«å¤§ããªå½±éŸ¿ã‚’ä¸ãˆã¾ã™ã€‚ã‚¤ãƒ³ã‚·ãƒ¥ã‚¢ãƒ†ãƒƒã‚¯ä¼æ¥­ã¨ã®ç«¶äº‰ã‚‚æ¿€åŒ–ã—ã¦ã„ã¾ã™ã€‚" }
                ]
            },
            {
                title: "å°†æ¥å±•æœ›ã¨æˆ¦ç•¥çš„æè¨€",
                type: 'cards',
                items: [
                    { id: 'embedded', title: 'Embedded Finance (çµ„è¾¼å‹é‡‘è)', icon: 'ğŸ§©', content: "é‡‘èã‚µãƒ¼ãƒ“ã‚¹ã¯ã€éé‡‘èãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«çµ„ã¿è¾¼ã¾ã‚Œã€ã¾ã™ã¾ã™ã€Œè¦‹ãˆãªã„ã€å­˜åœ¨ã«ãªã‚Šã¾ã™ã€‚BaaSï¼ˆBanking-as-a-Serviceï¼‰ãƒ¢ãƒ‡ãƒ«ãŒä¸»æµã¨ãªã‚Šã€æ–°ãŸãªåç›Šæ©Ÿä¼šãŒç”Ÿã¾ã‚Œã¾ã™ã€‚" },
                    { id: 'personalization', title: 'ãƒã‚¤ãƒ‘ãƒ¼ãƒ»ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³', icon: 'ğŸ¯', content: "ãƒ‡ãƒ¼ã‚¿ã¨AIã‚’é§†ä½¿ã—ã€å€‹ã€…ã®é¡§å®¢ã«åˆã‚ã›ãŸã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚„å•†å“ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æä¾›ã™ã‚‹èƒ½åŠ›ãŒã€ç«¶äº‰ã®å‹æ•—ã‚’åˆ†ã‘ã¾ã™ã€‚é¡§å®¢ã®é‡‘èç”Ÿæ´»å…¨ä½“ã‚’æ·±ãç†è§£ã™ã‚‹ã“ã¨ãŒä¸å¯æ¬ ã§ã™ã€‚" },
                    { id: 'ecosystem', title: 'ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼', icon: 'ğŸŒ', content: "é‡‘èæ©Ÿé–¢ã¯ã€è‡ªç¤¾ã ã‘ã§ã™ã¹ã¦ã‚’æä¾›ã—ã‚ˆã†ã¨ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ã‚„ä»–æ¥­ç¨®ã®ä¼æ¥­ã¨æˆ¦ç•¥çš„ã«é€£æºã—ã€é¡§å®¢ã®å¹…åºƒã„èª²é¡Œã‚’è§£æ±ºã™ã‚‹ã€Œã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã€ã®ä¸­å¿ƒçš„å­˜åœ¨ã¸ã¨é€²åŒ–ã—ã¦ã„ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" }
                ]
            }
        ]
    },
    banking: {
        name: "éŠ€è¡Œ",
        title: "éŠ€è¡Œæ¥­ç•Œã®ç¾çŠ¶ã¨èª²é¡Œ",
        intro: "æ—¥æœ¬ã®éŠ€è¡Œæ¥­ç•Œã¯ã€ãƒ¡ã‚¬ãƒãƒ³ã‚¯3è¡ŒãŒåœ§å€’çš„ãªå­˜åœ¨æ„Ÿã‚’æ”¾ã¤ä¸€æ–¹ã€ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–ã®æ³¢ã¨æ–°ãŸãªç«¶äº‰ç›¸æ‰‹ã®å‡ºç¾ã«ã‚ˆã‚Šã€å¤§ããªå¤‰é©æœŸã‚’è¿ãˆã¦ã„ã¾ã™ã€‚ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€éŠ€è¡Œã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã€ä¸»è¦ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ¥­ç¸¾ã€ãã—ã¦ç›´é¢ã™ã‚‹ç‰¹æœ‰ã®èª²é¡Œã‚’è©³ã—ãè¦‹ã¦ã„ãã¾ã™ã€‚",
        operationalFlow: {
            title: "éŠ€è¡Œã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¨èª²é¡Œ",
            intro: "ä¼çµ±çš„ãªéŠ€è¡Œã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¯ã€å¯¾é¢ãƒ»ç´™ãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚»ã‚¹ã«å¤§ããä¾å­˜ã—ã¦ãŠã‚Šã€ã“ã‚ŒãŒéåŠ¹ç‡æ€§ã®æ¸©åºŠã¨ãªã£ã¦ã„ã¾ã™ã€‚ä¸‹ã®å›³ã®å„æ®µéšã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€æ¥­å‹™å†…å®¹ã¨èª²é¡Œã®è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            stages: [
                { id: 'front', name: 'ãƒ•ãƒ­ãƒ³ãƒˆã‚ªãƒ•ã‚£ã‚¹', content: "ã€æ¥­å‹™å†…å®¹ã€‘é é‡‘ã€è²¸å‡ºã€ç‚ºæ›¿ãªã©ã®é¡§å®¢å¯¾å¿œã€‚æ­´å²çš„ã«æ”¯åº—ã§ã®å¯¾é¢ã‚µãƒ¼ãƒ“ã‚¹ãŒä¸­å¿ƒã€‚\nã€èª²é¡Œã€‘ç´™ã¨ãƒãƒ³ã‚³æ–‡åŒ–ã«ã‚ˆã‚‹éåŠ¹ç‡æ€§ã€‚ãƒ‡ã‚¸ã‚¿ãƒ«ãƒãƒ£ãƒãƒ«ã¸ã®ç§»è¡ŒãŒæ€¥å‹™ã ãŒã€é¡§å®¢ä½“é¨“ãŒåˆ†æ–­ã•ã‚ŒãŒã¡ã€‚" },
                { id: 'middle', name: 'ãƒŸãƒ‰ãƒ«ã‚ªãƒ•ã‚£ã‚¹', content: "ã€æ¥­å‹™å†…å®¹ã€‘ä¸ä¿¡å¯©æŸ»ã€å¸‚å ´ãƒ»é‡‘åˆ©ãƒªã‚¹ã‚¯ç®¡ç†ã€ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã€‚ç‰¹ã«åç¤¾ä¼šçš„å‹¢åŠ›ã®ãƒã‚§ãƒƒã‚¯ã¯æ—¥æœ¬ç‰¹æœ‰ã®å³æ ¼ãªãƒ—ãƒ­ã‚»ã‚¹ã€‚\nã€èª²é¡Œã€‘ãƒªã‚¹ã‚¯è©•ä¾¡ãƒ¢ãƒ‡ãƒ«ã®é«˜åº¦åŒ–ã¨ã€ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹æ¥­å‹™ã®åŠ¹ç‡åŒ–ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚" },
                { id: 'back', name: 'ãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹', content: "ã€æ¥­å‹™å†…å®¹ã€‘å‹˜å®šå‡¦ç†ã€æ±ºæ¸ˆã€è¦åˆ¶å½“å±€ã¸ã®å ±å‘Šæ›¸ä½œæˆãªã©ã€‚ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®è² è·ãŒæœ€ã‚‚å¤§ãã„éƒ¨é–€ã€‚\nã€èª²é¡Œã€‘æ‰‹ä½œæ¥­ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã‚„ã€ã‚·ã‚¹ãƒ†ãƒ é–“ã®é€£æºä¸è¶³ãŒã€ã‚¨ãƒ©ãƒ¼ã‚„éåŠ¹ç‡æ€§ã®ä¸»è¦å› ã¨ãªã£ã¦ã„ã‚‹ã€‚" }
            ]
        },
        financials: {
            title: "ä¸»è¦éŠ€è¡Œã®æ¥­ç¸¾æ¯”è¼ƒ (2023/24å¹´åº¦)",
            intro: "ä¸‹ã®ãƒœã‚¿ãƒ³ã§æŒ‡æ¨™ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã€ä¸»è¦ãªéŠ€è¡Œã‚°ãƒ«ãƒ¼ãƒ—ã®è²¡å‹™ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ¯”è¼ƒã§ãã¾ã™ã€‚ãƒ¡ã‚¬ãƒãƒ³ã‚¯ã¯é«˜ã„åç›Šã‚’ä¸Šã’ã¦ã„ã¾ã™ãŒã€ãã®å¤šãã¯æµ·å¤–äº‹æ¥­ã«ã‚ˆã‚‹ã‚‚ã®ã§ã€å›½å†…äº‹æ¥­ã®åç›Šæ€§ã«ã¯ä¾ç„¶ã¨ã—ã¦èª²é¡ŒãŒæ®‹ã‚Šã¾ã™ã€‚",
            data: {
                labels: ['ä¸‰è±UFJ FG', 'ä¸‰äº•ä½å‹FG', 'ã¿ãšã»FG', 'ã‚†ã†ã¡ã‚‡éŠ€è¡Œ', 'ä¸‰äº•ä½å‹ãƒˆãƒ©ã‚¹ãƒˆG'],
                datasets: [
                    { label: 'å£²ä¸Šåç›Š (å…†å††)', data: [11.89, 9.35, 8.74, 2.65, 2.48], backgroundColor: 'rgba(54, 162, 235, 0.6)' },
                    { label: 'ç´”åˆ©ç›Š (å…†å††)', data: [1.94, 1.19, 0.89, 0.42, 0.26], backgroundColor: 'rgba(75, 192, 192, 0.6)' },
                    { label: 'ç·è³‡ç”£ (å…†å††)', data: [403.70, 295.24, 278.67, 233.91, 75.88], backgroundColor: 'rgba(255, 206, 86, 0.6)' },
                    { label: 'æ™‚ä¾¡ç·é¡ (å…†å††)', data: [17.19, 11.57, 6.89, 4.93, 2.42], backgroundColor: 'rgba(153, 102, 255, 0.6)' }
                ]
            }
        }
    },
    securities: {
        name: "è¨¼åˆ¸",
        title: "è¨¼åˆ¸æ¥­ç•Œã®ç¾çŠ¶ã¨èª²é¡Œ",
        intro: "è¨¼åˆ¸æ¥­ç•Œã¯ã€ãƒãƒƒãƒˆè¨¼åˆ¸ã®å°é ­ã¨ã€Œè²¯è“„ã‹ã‚‰æŠ•è³‡ã¸ã€ã¨ã„ã†å›½ç­–ã®è¿½ã„é¢¨ã‚’å—ã‘ã€å¤§ããªå¤‰é©ã®æœ€ä¸­ã«ã‚ã‚Šã¾ã™ã€‚å¾“æ¥ã®ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã‹ã‚‰ã®è»¢æ›ãŒæ€¥å‹™ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€è¨¼åˆ¸ä¼šç¤¾ã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã€ç«¶äº‰ç’°å¢ƒã€ãã—ã¦ç‰¹æœ‰ã®èª²é¡Œã‚’æ¢ã‚Šã¾ã™ã€‚",
        operationalFlow: {
            title: "è¨¼åˆ¸ã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¨èª²é¡Œ",
            intro: "è¨¼åˆ¸æ¥­å‹™ã¯ã‚¹ãƒ”ãƒ¼ãƒ‰ã¨æ­£ç¢ºæ€§ãŒå‘½ã§ã™ã€‚å–å¼•ã®åŸ·è¡Œã‹ã‚‰æ±ºæ¸ˆã¾ã§ã€å¤šæ•°ã®ãƒ—ãƒ­ã‚»ã‚¹ãŒé€£æºã—ã¦å‹•ã„ã¦ã„ã¾ã™ã€‚ä¸‹ã®å›³ã®å„æ®µéšã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€æ¥­å‹™å†…å®¹ã¨èª²é¡Œã®è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            stages: [
                { id: 'front', name: 'ãƒ•ãƒ­ãƒ³ãƒˆã‚ªãƒ•ã‚£ã‚¹', content: "ã€æ¥­å‹™å†…å®¹ã€‘æ ªå¼ã‚„å‚µåˆ¸ã®å£²è²·åŸ·è¡Œï¼ˆã‚»ãƒ¼ãƒ«ã‚¹ï¼†ãƒˆãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼‰ã€M&Aã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒªãƒ¼ï¼ˆIBDï¼‰ã€æŠ•è³‡ä¿¡è¨—ã®é‹ç”¨ï¼ˆAMï¼‰ã€‚\nã€èª²é¡Œã€‘æ‰‹æ•°æ–™è‡ªç”±åŒ–ã«ã‚ˆã‚Šã€å–å¼•æ‰‹æ•°æ–™ã«ä¾å­˜ã—ãŸåç›Šãƒ¢ãƒ‡ãƒ«ãŒå´©å£Šã€‚ä»˜åŠ ä¾¡å€¤ã®é«˜ã„ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã®æä¾›ãŒä¸å¯æ¬ ã«ã€‚" },
                { id: 'middle', name: 'ãƒŸãƒ‰ãƒ«ã‚ªãƒ•ã‚£ã‚¹', content: "ã€æ¥­å‹™å†…å®¹ã€‘ç´„å®šå†…å®¹ã®æ­£ç¢ºæ€§ç¢ºèªï¼ˆãƒˆãƒ¬ãƒ¼ãƒ‰ã‚µãƒãƒ¼ãƒˆï¼‰ã€ãƒˆãƒ¬ãƒ¼ãƒ€ãƒ¼ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚„ãƒªã‚¹ã‚¯ã®ç›£è¦–ã€å¸‚å ´åˆ†æï¼ˆãƒªã‚µãƒ¼ãƒï¼‰ã€‚\nã€èª²é¡Œã€‘ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®ãƒªã‚¹ã‚¯ç®¡ç†ã®é«˜åº¦åŒ–ã¨ã€ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹å¼·åŒ–ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å–å¼•ã®ç›£è¦–ã‚‚é‡è¦ã€‚" },
                { id: 'back', name: 'ãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹', content: "ã€æ¥­å‹™å†…å®¹ã€‘å–å¼•ã®æ¸…ç®—ãƒ»æ±ºæ¸ˆã€‚æ—¥æœ¬ã§ã¯ç¾åœ¨T+2æ±ºæ¸ˆãŒä¸»æµã ãŒã€å›½éš›æ¨™æº–ã§ã‚ã‚‹T+1ã¸ã®ç§»è¡ŒãŒè­°è«–ã•ã‚Œã¦ã„ã‚‹ã€‚\nã€èª²é¡Œã€‘æ±ºæ¸ˆã‚µã‚¤ã‚¯ãƒ«ã®çŸ­ç¸®åŒ–ã¸ã®å¯¾å¿œã€‚è¤‡æ•°ã®ã‚·ã‚¹ãƒ†ãƒ ã«ã¾ãŸãŒã‚‹æ±ºæ¸ˆãƒ—ãƒ­ã‚»ã‚¹ã®è‡ªå‹•åŒ–ãƒ»åŠ¹ç‡åŒ–ãŒèª²é¡Œã€‚" }
            ]
        },
        financials: {
            title: "ä¸»è¦è¨¼åˆ¸ä¼šç¤¾ã®æ¥­ç¸¾æ¯”è¼ƒ (2023/24å¹´åº¦)",
            intro: "ä¸‹ã®ãƒœã‚¿ãƒ³ã§æŒ‡æ¨™ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã€ä¸»è¦ãªè¨¼åˆ¸ä¼šç¤¾ã®è²¡å‹™ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ¯”è¼ƒã§ãã¾ã™ã€‚NISAæ‹¡å……ã«ã‚ˆã‚‹å€‹äººæŠ•è³‡å®¶ã®å¢—åŠ ãŒè¿½ã„é¢¨ã¨ãªã£ã¦ã„ã¾ã™ãŒã€å¤§æ‰‹ãƒãƒƒãƒˆè¨¼åˆ¸ã¨ã®ç«¶äº‰ã¯æ¿€åŒ–ã—ã¦ã„ã¾ã™ã€‚",
            data: {
                labels: ['é‡æ‘HD', 'å¤§å’Œè¨¼åˆ¸ã‚°ãƒ«ãƒ¼ãƒ—'],
                datasets: [
                    { label: 'å£²ä¸Šåç›Š (å…†å††)', data: [1.40, 0.81], backgroundColor: 'rgba(54, 162, 235, 0.6)' },
                    { label: 'ç´”åˆ©ç›Š (å…†å††)', data: [0.16, 0.15], backgroundColor: 'rgba(75, 192, 192, 0.6)' },
                    { label: 'ç·è³‡ç”£ (å…†å††)', data: [49.56, 26.43], backgroundColor: 'rgba(255, 206, 86, 0.6)' },
                    { label: 'æ™‚ä¾¡ç·é¡ (å…†å††)', data: [2.73, 1.73], backgroundColor: 'rgba(153, 102, 255, 0.6)' }
                ]
            }
        }
    },
    insurance: {
        name: "ä¿é™º",
        title: "ä¿é™ºæ¥­ç•Œã®ç¾çŠ¶ã¨èª²é¡Œ",
        intro: "æ—¥æœ¬ã®ä¿é™ºæ¥­ç•Œã¯ã€è¶…é«˜é½¢åŒ–ç¤¾ä¼šã¨ã„ã†æ§‹é€ çš„ãªèª²é¡Œã«ç›´é¢ã—ã¤ã¤ã€ã‚¤ãƒ³ã‚·ãƒ¥ã‚¢ãƒ†ãƒƒã‚¯ã«ã‚ˆã‚‹æ–°ãŸãªç«¶äº‰ã«æ™’ã•ã‚Œã¦ã„ã¾ã™ã€‚é•·æœŸçš„ãªé¡§å®¢é–¢ä¿‚ã‚’åŸºç›¤ã¨ã—ãŸãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã®å¤‰é©ãŒæ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚",
        operationalFlow: {
            title: "ä¿é™ºã®æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã¨èª²é¡Œ",
            intro: "ä¿é™ºæ¥­å‹™ã¯ã€é•·æœŸã«ã‚ãŸã‚‹å¥‘ç´„ç®¡ç†ã¨ã€è¤‡é›‘ãªä¿é™ºé‡‘æ”¯æ‰•ã„ãƒ—ãƒ­ã‚»ã‚¹ãŒç‰¹å¾´ã§ã™ã€‚ç‰¹ã«æ”¯æ‰•ã„æŸ»å®šã¯å¤šãã®æ‰‹ä½œæ¥­ã‚’ä¼´ã„ã¾ã™ã€‚ä¸‹ã®å›³ã®å„æ®µéšã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€æ¥­å‹™å†…å®¹ã¨èª²é¡Œã®è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
            stages: [
                { id: 'front', name: 'ãƒ•ãƒ­ãƒ³ãƒˆã‚ªãƒ•ã‚£ã‚¹', content: "ã€æ¥­å‹™å†…å®¹ã€‘å–¶æ¥­è·å“¡ã«ã‚ˆã‚‹å¯¾é¢è²©å£²ãŒä¼çµ±çš„ãªãƒ¢ãƒ‡ãƒ«ã€‚ãƒªã‚¹ã‚¯ã‚’è©•ä¾¡ã—ä¿é™ºæ–™ã‚’æ±ºå®šã™ã‚‹ã€Œå¼•å—æŸ»å®šã€ãŒä¸­æ ¸ã€‚\nã€èª²é¡Œã€‘å–¶æ¥­è·å“¡ãƒ¢ãƒ‡ãƒ«ã®åŠ¹ç‡åŒ–ã¨ã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã®ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆè²©å£²å¼·åŒ–ã€‚ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸã€ã‚ˆã‚Šç²¾ç·»ãªå¼•å—æŸ»å®šãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã€‚" },
                { id: 'middle', name: 'ãƒŸãƒ‰ãƒ«ã‚ªãƒ•ã‚£ã‚¹', content: "ã€æ¥­å‹™å†…å®¹ã€‘ä¿é™ºé‡‘è«‹æ±‚ã®å¦¥å½“æ€§ã‚’å¯©æŸ»ã™ã‚‹ã€Œæ”¯æ‰•æŸ»å®šã€ã€æ–°å•†å“ã®é–‹ç™ºã€ä¿é™ºæ–™åå…¥ã‚’é‹ç”¨ã™ã‚‹è³‡ç”£é‹ç”¨ã€‚\nã€èª²é¡Œã€‘æ”¯æ‰•æŸ»å®šã¯ã€æ›¸é¡ã®ç¢ºèªã‚„ç¾åœ°èª¿æŸ»ãªã©ã€ç´™ãƒ™ãƒ¼ã‚¹ã§éåŠ¹ç‡ãªãƒ—ãƒ­ã‚»ã‚¹ãŒå¤šã„ã€‚ä¸æ­£è«‹æ±‚ã®æ¤œçŸ¥ã‚‚é‡è¦ã€‚" },
                { id: 'back', name: 'ãƒãƒƒã‚¯ã‚ªãƒ•ã‚£ã‚¹', content: "ã€æ¥­å‹™å†…å®¹ã€‘ä¿é™ºè¨¼åˆ¸ã®ç™ºè¡Œã€ä¿é™ºæ–™ã®å¾´åã€å¥‘ç´„æƒ…å ±ã®ç®¡ç†ã€æ‰¿èªã•ã‚ŒãŸä¿é™ºé‡‘ã®æ”¯æ‰•ã„å‡¦ç†ã€‚\nã€èª²é¡Œã€‘ä¿é™ºé‡‘æ”¯æ‰•ã„ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€è¨ºæ–­æ›¸ãªã©è†¨å¤§ãªç´™ã®æ›¸é¡ã‚’æ‰±ã†ãŸã‚ã€éåŠ¹ç‡ã§æ™‚é–“ãŒã‹ã‹ã‚‹ã€‚OCRãªã©ã«ã‚ˆã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–ãŒæ€¥å‹™ã€‚" }
            ]
        },
        financials: {
            title: "ä¸»è¦ä¿é™ºä¼šç¤¾ã®æ¥­ç¸¾æ¯”è¼ƒ (2023/24å¹´åº¦)",
            intro: "ä¸‹ã®ãƒœã‚¿ãƒ³ã§æŒ‡æ¨™ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã€ä¸»è¦ãªä¿é™ºä¼šç¤¾ã®è²¡å‹™ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ¯”è¼ƒã§ãã¾ã™ã€‚äººå£æ¸›å°‘ãŒé•·æœŸçš„ãªé€†é¢¨ã¨ãªã‚‹ä¸­ã€å„ç¤¾ã¯å¥åº·å¢—é€²å‹ä¿é™ºãªã©æ–°ãŸãªå•†å“é–‹ç™ºã‚„æµ·å¤–äº‹æ¥­ã§æ´»è·¯ã‚’è¦‹å‡ºãã†ã¨ã—ã¦ã„ã¾ã™ã€‚",
            data: {
                labels: ['æ—¥æœ¬ç”Ÿå‘½', 'æ±äº¬æµ·ä¸ŠHD', 'ç¬¬ä¸€ç”Ÿå‘½HD'],
                datasets: [
                    { label: 'å£²ä¸Šåç›Š (å…†å††)', data: [7.36, 6.78, 10.03], backgroundColor: 'rgba(54, 162, 235, 0.6)' },
                    { label: 'ç´”åˆ©ç›Š (å…†å††)', data: [0.51, 0.87, 0.46], backgroundColor: 'rgba(75, 192, 192, 0.6)' },
                    { label: 'ç·è³‡ç”£ (å…†å††)', data: [91.95, 31.83, 67.52], backgroundColor: 'rgba(255, 206, 86, 0.6)' },
                    { label: 'æ™‚ä¾¡ç·é¡ (å…†å††)', data: [0, 9.81, 3.95], backgroundColor: 'rgba(153, 102, 255, 0.6)' }
                ]
            }
        }
    },
    modalContent: {
        dx: { title: "DXã®ç·Šæ€¥æ€§", content: "æ—¥æœ¬ã®é‡‘èæ©Ÿé–¢ãŒç›´é¢ã™ã‚‹ã€Œ2025å¹´ã®å´–ã€ã¯ã€è€æœ½åŒ–ã—ã€éƒ¨é–€ã”ã¨ã«ã‚µã‚¤ãƒ­åŒ–ã•ã‚ŒãŸãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ãŒå¼•ãèµ·ã“ã™çµŒæ¸ˆçš„æå¤±ã®ãƒªã‚¹ã‚¯ã‚’æŒ‡ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€éå»ã®çŸ­æœŸçš„ãªãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦éåº¦ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸçµæœã€è†¨å¤§ãªã€ŒæŠ€è¡“çš„è² å‚µã€ã¨ãªã‚Šã¾ã—ãŸã€‚ã‚·ã‚¹ãƒ†ãƒ ã®è¤‡é›‘åŒ–ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä¸å‚™ã€ãã—ã¦é–‹ç™ºã«æºã‚ã£ãŸæŠ€è¡“è€…ã®å¼•é€€ãŒé‡ãªã‚Šã€ã‚·ã‚¹ãƒ†ãƒ ã®ç¶­æŒãƒ»æ”¹ä¿®ã¯å›°é›£ã‚’æ¥µã‚ã¦ã„ã¾ã™ã€‚\n\nå¤šãã®é‡‘èæ©Ÿé–¢ã¯ã€ãƒªã‚¹ã‚¯ã‚’åˆ†æ•£ã•ã›ã‚‹ãŸã‚ã«ã€é¡§å®¢å‘ã‘ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã‚’å…ˆè¡Œã—ã¦è¿‘ä»£åŒ–ã—ã€åŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ ã¯æ…é‡ã«ç§»è¡Œã•ã›ã‚‹ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¯ãƒ©ã‚¦ãƒ‰æˆ¦ç•¥ï¼ˆæ—¥æœ¬: 56%ã€ä¸–ç•Œå¹³å‡: 38%ï¼‰ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ç¾å®Ÿçš„ãªé¸æŠã§ã™ãŒã€ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–ãªãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ä¼æ¥­ã«æ¯”ã¹ã€ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ãƒ”ãƒ¼ãƒ‰ã§å¾Œã‚Œã‚’å–ã‚‹è¦å› ã«ã‚‚ãªã£ã¦ã„ã¾ã™ã€‚" },
        fintech: { title: "ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ã¨ã®é€£æº", content: "æ—¥æœ¬ã®ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ã¯ã€æ—¢å­˜ã®é‡‘èæ©Ÿé–¢ã‚’ç ´å£Šã™ã‚‹ã€Œãƒ‡ã‚£ã‚¹ãƒ©ãƒ—ã‚¿ãƒ¼ã€ã¨ã—ã¦ã§ã¯ãªãã€æ—¢å­˜ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’è£œå®Œãƒ»å¼·åŒ–ã™ã‚‹ã€Œã‚¤ãƒãƒ¼ãƒ–ãƒ©ãƒ¼ã€ã¨ã—ã¦ã®å½¹å‰²ãŒå¼·ã„ã®ãŒç‰¹å¾´ã§ã™ã€‚ã“ã‚Œã¯ã€å®‰å®šæ€§ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’æœ€å„ªå…ˆã™ã‚‹æ—¥æœ¬ã®é‡‘èæ–‡åŒ–ã¨ã€æ¶ˆè²»è€…ä¿è­·ã‚’é‡è¦–ã™ã‚‹è¦åˆ¶ç’°å¢ƒãŒèƒŒæ™¯ã«ã‚ã‚Šã¾ã™ã€‚\n\né‡‘èæ©Ÿé–¢ã¯ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ä¼æ¥­ã¨ææºã™ã‚‹ã“ã¨ã§ã€è‡ªç¤¾ã®ä¿¡é ¼æ€§ã¨é¡§å®¢åŸºç›¤ã‚’æ´»ç”¨ã—ã¤ã¤ã€æ–°ã—ã„æŠ€è¡“ã‚’å®‰å…¨ã«å°å…¥ã§ãã¾ã™ã€‚ä¸€æ–¹ã€ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ä¼æ¥­ã¯ã€ææºã«ã‚ˆã£ã¦å·¨å¤§ãªå¸‚å ´ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¨ä¿¡ç”¨ã®ç²å¾—ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ã“ã®å”èª¿çš„ãªãƒ¢ãƒ‡ãƒ«ã¯ã€æ—¢å­˜ã®ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«ã‚’æ ¹åº•ã‹ã‚‰è¦†ã™ã‚ˆã†ãªç ´å£Šçš„ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æŠ‘åˆ¶ã—ã¦ã—ã¾ã†å¯èƒ½æ€§ã‚‚æŒ‡æ‘˜ã•ã‚Œã¦ã„ã¾ã™ã€‚" },
        regulation: { title: "æ–°ãŸãªé‡‘èæ”¿ç­–ã¨è¦åˆ¶", content: "2024å¹´3æœˆã€æ—¥æœ¬éŠ€è¡Œã¯ãƒã‚¤ãƒŠã‚¹é‡‘åˆ©æ”¿ç­–ã®è§£é™¤ã‚’æ±ºå®šã—ã€é•·å¹´ã«ã‚ãŸã‚‹è¶…é‡‘èç·©å’Œã®æ™‚ä»£ã«çµ‚æ­¢ç¬¦ã‚’æ‰“ã¡ã¾ã—ãŸã€‚ã“ã®æ­´å²çš„ãªè»¢æ›ã¯ã€éŠ€è¡Œã®åˆ©ã–ã‚„æ”¹å–„ã«ç¹‹ãŒã‚Šã€åç›Šæ©Ÿä¼šã‚’ã‚‚ãŸã‚‰ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—åŒæ™‚ã«ã€ä½é‡‘åˆ©ä¸‹ã§ãƒªã‚¹ã‚¯ã‚’å–ã£ã¦é‹ç”¨ã—ã¦ã„ãŸå‚µåˆ¸ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®é‡‘åˆ©ä¸Šæ˜‡ãƒªã‚¹ã‚¯ã‚„ã€èè³‡å…ˆã®å€’ç”£å¢—åŠ ãƒªã‚¹ã‚¯ãªã©ã€æ–°ãŸãªèª²é¡Œã«ã‚‚ç›´é¢ã—ã¾ã™ã€‚\n\næ”¿ç­–é¢ã§ã¯ã€æ”¿åºœãŒã€Œè³‡ç”£æ‰€å¾—å€å¢—ãƒ—ãƒ©ãƒ³ã€ã‚’æ²ã’ã€NISAï¼ˆå°‘é¡æŠ•è³‡éèª²ç¨åˆ¶åº¦ï¼‰ã®å¤§å¹…ãªæ‹¡å……ã‚’é€²ã‚ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€Œè²¯è“„ã‹ã‚‰æŠ•è³‡ã¸ã€ã®æµã‚Œã‚’åŠ é€Ÿã•ã›ã€è¨¼åˆ¸ãƒ»è³‡ç”£é‹ç”¨æ¥­ç•Œã«ã¨ã£ã¦ã¯å¤§ããªè¿½ã„é¢¨ã¨ãªã£ã¦ã„ã¾ã™ã€‚" },
        esg: { title: "ESGçµŒå–¶ã®æµ¸é€", content: "æ—¥æœ¬ã«ãŠã‘ã‚‹ESGã¯ã€æ¬§ç±³ã®ã‚ˆã†ãªæ”¿æ²»çš„ãªå¯¾ç«‹ã¨ã¯ä¸€ç·šã‚’ç”»ã—ã€å›½ã®é•·æœŸçš„ãªçµŒæ¸ˆç«¶äº‰åŠ›ã‚’é«˜ã‚ã‚‹ãŸã‚ã®ã€Œç”£æ¥­æ”¿ç­–ã€ã¨ã—ã¦ä½ç½®ã¥ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚æ”¿åºœã¯2050å¹´ã®ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«é”æˆã‚’ç›®æ¨™ã«æ²ã’ã€GXï¼ˆã‚°ãƒªãƒ¼ãƒ³ãƒ»ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰å‚µã‚’ç™ºè¡Œã™ã‚‹ãªã©ã€é‡‘èã‚·ã‚¹ãƒ†ãƒ ã‚’é€šã˜ã¦ç”£æ¥­ç•Œã®è„±ç‚­ç´ åŒ–ã‚’å¾ŒæŠ¼ã—ã—ã¦ã„ã¾ã™ã€‚\n\nã“ã®å‹•ãã‚’æ±ºå®šã¥ã‘ãŸã®ãŒã€ä¸–ç•Œæœ€å¤§ã®å¹´é‡‘åŸºé‡‘ã§ã‚ã‚‹GPIFã®å­˜åœ¨ã§ã™ã€‚GPIFãŒæ—©æœŸã‹ã‚‰ESGæŠ•è³‡ã‚’æœ¬æ ¼åŒ–ã•ã›ãŸã“ã¨ã§ã€å¸‚å ´å…¨ä½“ã®ESGã¸ã®å–ã‚Šçµ„ã¿ãŒåŠ é€Ÿã—ã¾ã—ãŸã€‚ä¼æ¥­ã®æ°—å€™é–¢é€£ãƒªã‚¹ã‚¯ã®æƒ…å ±é–‹ç¤ºã‚’æ±‚ã‚ã‚‹ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆã‚¬ãƒãƒŠãƒ³ã‚¹ãƒ»ã‚³ãƒ¼ãƒ‰ã®æ”¹è¨‚ã‚‚ã€ã“ã®æµã‚Œã‚’å¾ŒæŠ¼ã—ã—ã¦ã„ã¾ã™ã€‚" },
        embedded: { title: "Embedded Finance (çµ„è¾¼å‹é‡‘è)", content: "é‡‘èã®æœªæ¥åƒã®ä¸€ã¤ãŒã€é‡‘èã‚µãƒ¼ãƒ“ã‚¹ãŒæ—¥å¸¸ç”Ÿæ´»ã®ã‚ã‚‰ã‚†ã‚‹å ´é¢ã«ã€Œæº¶ã‘è¾¼ã‚€ã€ä¸–ç•Œã§ã™ã€‚ä¾‹ãˆã°ã€ECã‚µã‚¤ãƒˆã§å•†å“è³¼å…¥ã¨åŒæ™‚ã«ãƒ­ãƒ¼ãƒ³ã‚’çµ„ã‚“ã ã‚Šã€æ—…è¡Œäºˆç´„ã‚µã‚¤ãƒˆã§ä¿é™ºã«åŠ å…¥ã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒå½“ãŸã‚Šå‰ã«ãªã‚Šã¾ã™ã€‚ã“ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã«ã‚ˆã‚Šã€é‡‘èæ©Ÿé–¢ã¯ã€BaaSãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¨ã—ã¦éé‡‘èä¼æ¥­ã«é‡‘èæ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã€Œã‚¤ãƒ³ãƒ•ãƒ©å±‹ã€ã«ãªã‚‹ã‹ã€ã‚ã‚‹ã„ã¯æ§˜ã€…ãªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¸Šã§é¡§å®¢ã«é¸ã°ã‚Œã‚‹ã€Œãƒ–ãƒ©ãƒ³ãƒ‰ã€ã¨ãªã‚‹ã‹ã®æˆ¦ç•¥çš„é¸æŠã‚’è¿«ã‚‰ã‚Œã¾ã™ã€‚" },
        personalization: { title: "ãƒã‚¤ãƒ‘ãƒ¼ãƒ»ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³", content: "ã“ã‚Œã‹ã‚‰ã®é‡‘èã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ã€é¡§å®¢ã‚’å¤§ã¾ã‹ãªã‚»ã‚°ãƒ¡ãƒ³ãƒˆã§åˆ†ã‘ã‚‹ã®ã§ã¯ãªãã€ãƒ‡ãƒ¼ã‚¿ã¨AIã‚’ç”¨ã„ã¦ä¸€äººã²ã¨ã‚Šã®çŠ¶æ³ã‚„ç›®æ¨™ã«åˆã‚ã›ãŸæœ€é©ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚„å•†å“ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æä¾›ã™ã‚‹ã€Œãƒã‚¤ãƒ‘ãƒ¼ãƒ»ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€ãŒç«¶äº‰åŠ›ã®æºæ³‰ã¨ãªã‚Šã¾ã™ã€‚ã“ã‚Œã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã€ã‚µã‚¤ãƒ­åŒ–ã•ã‚ŒãŸé¡§å®¢ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ã€é¡§å®¢ã®é‡‘èç”Ÿæ´»å…¨ä½“ã‚’360åº¦ã‹ã‚‰ç†è§£ã™ã‚‹é«˜åº¦ãªãƒ‡ãƒ¼ã‚¿åˆ†æåŸºç›¤ãŒä¸å¯æ¬ ã§ã™ã€‚" },
        ecosystem: { title: "ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼", content: "ä¼çµ±çš„ãªã€è‡ªå‰ä¸»ç¾©ã®å‚ç›´çµ±åˆå‹é‡‘èæ©Ÿé–¢ã®ãƒ¢ãƒ‡ãƒ«ã¯æ™‚ä»£é…ã‚Œã«ãªã‚Šã¤ã¤ã‚ã‚Šã¾ã™ã€‚æœªæ¥ã®ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚«ãƒ³ãƒ‘ãƒ‹ãƒ¼ã¯ã€è‡ªç¤¾ã§å…¨ã¦ã®æ©Ÿèƒ½ã‚’é–‹ç™ºã™ã‚‹ã®ã§ã¯ãªãã€ãƒ•ã‚£ãƒ³ãƒ†ãƒƒã‚¯ä¼æ¥­ã€ITã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ãƒˆã€ã•ã‚‰ã«ã¯ãƒ˜ãƒ«ã‚¹ã‚±ã‚¢ã‚„ãƒªãƒ†ãƒ¼ãƒ«ã¨ã„ã£ãŸä»–æ¥­ç¨®ã®ä¼æ¥­ã¨ã‚‚æˆ¦ç•¥çš„ã«ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—ã‚’çµ„ã¿ã€ã‚ˆã‚Šåºƒç¯„ãªé¡§å®¢ã®èª²é¡Œã‚’è§£æ±ºã™ã‚‹ã€Œã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã€ã‚’ä¸»å°ã™ã‚‹ã€Œã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ã€ã¨ã—ã¦ã®å½¹å‰²ã‚’æ‹…ã†ã“ã¨ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚" },
    }
};

document.addEventListener('DOMContentLoaded', () => {
    const appContent = document.getElementById('app-content');
    const mainNav = document.getElementById('main-nav');
    const modal = document.getElementById('modal');
    const modalTitle = document.getElementById('modal-title');
    const modalBody = document.getElementById('modal-body');
    const modalClose = document.getElementById('modal-close');
    let financialChart = null;
    let currentFlowStage = 'front';
    let currentViewName = 'overview';

    function formatText(text) {
        return text.replace(/\n/g, '<br>');
    }

    function showModal(contentId) {
        const content = reportData.modalContent[contentId];
        if (content) {
            modalTitle.textContent = content.title;
            modalBody.innerHTML = formatText(content.content);
            modal.classList.add('visible');
        }
    }
    
    function hideModal() {
        modal.classList.remove('visible');
    }
    
    modal.addEventListener('click', (e) => {
        if (e.target === modal || e.target === modalClose) {
            hideModal();
        }
    });

    function createOverviewView() {
        const viewData = reportData.overview;
        let html = `<div class="fade-in">
            <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">${viewData.title}</h2>
            <p class="mt-4 text-lg leading-8 text-slate-600">${viewData.intro}</p>`;

        viewData.sections.forEach(section => {
            html += `<div class="mt-12">
                <h3 class="text-2xl font-bold text-slate-800">${section.title}</h3>`;
            if (section.intro) {
                html += `<p class="mt-2 text-slate-600">${section.intro}</p>`;
            }

            if (section.type === 'cards') {
                html += `<div class="mt-6 grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4">`;
                section.items.forEach(item => {
                    html += `<div class="content-card bg-white rounded-xl shadow-md p-6" data-modal-id="${item.id}">
                        <div class="flex items-center justify-center h-12 w-12 rounded-full bg-sky-100 text-2xl">${item.icon}</div>
                        <h4 class="mt-4 text-lg font-semibold text-slate-900">${item.title}</h4>
                        <p class="mt-2 text-sm text-slate-600">${item.content}</p>
                    </div>`;
                });
                html += `</div>`;
            } else if (section.type === 'list') {
                html += `<div class="mt-6 space-y-4">`;
                section.items.forEach(item => {
                    html += `<div class="bg-white rounded-lg shadow-sm p-4">
                        <h4 class="font-semibold text-slate-800">${item.title}</h4>
                        <p class="text-sm text-slate-600">${item.content}</p>
                    </div>`;
                });
                html += `</div>`;
            }
            html += `</div>`;
        });
        html += `</div>`;
        return html;
    }
    
    function createFinancialChart(data) {
        const ctx = document.getElementById('financialChartCanvas').getContext('2d');
        if (financialChart) {
            financialChart.destroy();
        }
        
        financialChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: data.labels,
                datasets: [data.datasets[0]]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y + ' å…†å††';
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: data.datasets[0].label
                        }
                    },
                    x: {
                        ticks: {
                            callback: function(value, index, ticks) {
                                const label = this.getLabelForValue(value);
                                return label.length > 10 ? label.substring(0, 10) + '...' : label;
                            }
                        }
                    }
                }
            }
        });
        
        const metricButtons = document.getElementById('metric-selector');
        metricButtons.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                const metricIndex = e.target.dataset.metric;
                const newDataset = data.datasets[metricIndex];
                
                financialChart.data.datasets[0] = newDataset;
                financialChart.options.scales.y.title.text = newDataset.label;
                financialChart.update();
                
                metricButtons.querySelectorAll('button').forEach(btn => btn.classList.remove('bg-sky-600', 'text-white'));
                e.target.classList.add('bg-sky-600', 'text-white');
            }
        });
    }

    async function getAiSolution() {
        const aiResponseContainer = document.getElementById('ai-response-container');
        if (!currentViewName || currentViewName === 'overview') return;

        const sectorData = reportData[currentViewName];
        const stageData = sectorData.operationalFlow.stages.find(s => s.id === currentFlowStage);

        if (!sectorData || !stageData) return;

        aiResponseContainer.innerHTML = `
            <div class="flex items-center space-x-2 text-slate-500">
                <div class="spinner"></div>
                <span>AIãŒè§£æ±ºç­–ã‚’ç”Ÿæˆä¸­...</span>
            </div>`;

        const prompt = `ã‚ãªãŸã¯æ—¥æœ¬ã®é‡‘èæ¥­ç•Œã«è©³ã—ã„çµŒå–¶ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆã§ã™ã€‚ä»¥ä¸‹ã®èª²é¡Œã«å¯¾ã—ã¦ã€å…·ä½“çš„ã§å®Ÿè¡Œå¯èƒ½ãªè§£æ±ºç­–ã‚’3ã¤ææ¡ˆã—ã¦ãã ã•ã„ã€‚è§£æ±ºç­–ã«ã¯ã€æœ€æ–°ã®ãƒ‡ã‚¸ã‚¿ãƒ«ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆDXï¼‰ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚„ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ç››ã‚Šè¾¼ã‚“ã§ãã ã•ã„ã€‚

æ¥­ç•Œ: ${sectorData.name}
æ¥­å‹™é ˜åŸŸ: ${stageData.name}
ç¾åœ¨ã®èª²é¡Œ:
${stageData.content.split('ã€èª²é¡Œã€‘')[1]}

ææ¡ˆã¯ã€ä»¥ä¸‹ã®å½¢å¼ã§è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚

### è§£æ±ºç­–1: [å…·ä½“çš„ãªè§£æ±ºç­–ã®ã‚¿ã‚¤ãƒˆãƒ«]
[è§£æ±ºç­–ã®è©³ç´°ãªèª¬æ˜]

### è§£æ±ºç­–2: [å…·ä½“çš„ãªè§£æ±ºç­–ã®ã‚¿ã‚¤ãƒˆãƒ«]
[è§£æ±ºç­–ã®è©³ç´°ãªèª¬æ˜]

### è§£æ±ºç­–3: [å…·ä½“çš„ãªè§£æ±ºç­–ã®ã‚¿ã‚¤ãƒˆãƒ«]
[è§£æ±ºç­–ã®è©³ç´°ãªèª¬æ˜]
`;
        
        try {
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            const response = await fetch(apiUrl, {
                     method: 'POST',
                     headers: { 'Content-Type': 'application/json' },
                     body: JSON.stringify(payload)
                 });
            
            if (!response.ok) {
                 throw new Error(`API Error: ${response.statusText}`);
            }

            const result = await response.json();
            
            let text = 'AIã‹ã‚‰ã®å¿œç­”ãŒã‚ã‚Šã¾ã›ã‚“ã€‚';
            if (result.candidates && result.candidates.length > 0 &&
              result.candidates[0].content && result.candidates[0].content.parts &&
              result.candidates[0].content.parts.length > 0) {
              text = result.candidates[0].content.parts[0].text;
            } else {
              throw new Error("Invalid API response structure");
            }

            const formattedHtml = text
                .replace(/### (.*?)\n/g, '<h4 class="text-md font-semibold text-slate-800 mt-4">$1</h4>')
                .replace(/\n/g, '<br>');

            aiResponseContainer.innerHTML = `<div class="prose prose-sm max-w-none text-slate-700">${formattedHtml}</div>`;
        } catch (error) {
            console.error("Error fetching AI solution:", error);
            aiResponseContainer.innerHTML = `<p class="text-red-500">è§£æ±ºç­–ã®ç”Ÿæˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚</p>`;
        }
    }

    function createSectorView(viewName) {
        currentViewName = viewName;
        currentFlowStage = 'front'; // Reset to default stage
        const viewData = reportData[viewName];
        let html = `<div class="fade-in">
            <h2 class="text-3xl font-bold tracking-tight text-slate-900 sm:text-4xl">${viewData.title}</h2>
            <p class="mt-4 text-lg leading-8 text-slate-600">${viewData.intro}</p>`;
            
        if(viewData.operationalFlow) {
            const flowData = viewData.operationalFlow;
            html += `<div class="mt-12">
                <h3 class="text-2xl font-bold text-slate-800">${flowData.title}</h3>
                <p class="mt-2 text-slate-600">${flowData.intro}</p>
                <div class="mt-6 flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4">`;
            
            flowData.stages.forEach((stage, index) => {
                html += `<div class="flow-diagram-box w-full md:w-1/3 border-2 border-slate-300 rounded-lg p-4 text-center" data-stage="${stage.id}">
                    <h4 class="font-semibold text-slate-900">${stage.name}</h4>
                </div>`;
                if (index < flowData.stages.length - 1) {
                    html += `<div class="text-3xl text-slate-400 transform rotate-90 md:rotate-0">â†’</div>`;
                }
            });

            html += `</div>
            <div id="flow-detail" class="mt-4 bg-sky-50 p-6 rounded-lg min-h-[100px] text-slate-700 whitespace-pre-wrap">
                ${formatText(flowData.stages[0].content)}
            </div>
            
            <div class="mt-6 text-center">
                <button id="ai-solution-btn" class="bg-gradient-to-r from-sky-500 to-indigo-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all">
                    âœ¨ AIã«ã‚ˆã‚‹è§£æ±ºç­–ã®ææ¡ˆ
                </button>
            </div>
            <div id="ai-response-container" class="mt-6 bg-white p-6 rounded-xl shadow-md min-h-[100px]">
                <p class="text-slate-500">ä¸Šã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€é¸æŠä¸­ã®æ¥­å‹™èª²é¡Œã«å¯¾ã™ã‚‹AIã®è§£æ±ºç­–ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
            </div>
            </div>`;
        }
        
        if(viewData.financials) {
            const finData = viewData.financials;
            html += `<div class="mt-12 bg-white p-6 rounded-xl shadow-lg">
                <h3 class="text-2xl font-bold text-slate-800">${finData.title}</h3>
                <p class="mt-2 text-slate-600">${finData.intro}</p>
                <div id="metric-selector" class="my-4 flex flex-wrap gap-2">`;
            finData.data.datasets.forEach((dataset, index) => {
                const isActive = index === 0 ? 'bg-sky-600 text-white' : 'bg-slate-200 text-slate-700';
                html += `<button data-metric="${index}" class="${isActive} font-semibold py-2 px-4 rounded-full text-sm transition hover:bg-sky-500 hover:text-white">${dataset.label.split(' ')[0]}</button>`;
            });
            
            html +=`</div>
                <div class="chart-container">
                    <canvas id="financialChartCanvas"></canvas>
                </div>
            </div>`;
        }

        html += `</div>`;
        return html;
    }
    
    function renderView(viewName) {
        let contentHtml = '';
        if (viewName === 'overview') {
            currentViewName = 'overview';
            contentHtml = createOverviewView();
        } else {
            contentHtml = createSectorView(viewName);
        }
        appContent.innerHTML = contentHtml;
        
        // Add event listeners for the newly created content
        if (viewName === 'overview') {
            appContent.querySelectorAll('.content-card').forEach(card => {
                card.addEventListener('click', () => showModal(card.dataset.modalId));
            });
        } else {
            if(reportData[viewName].financials) {
                createFinancialChart(reportData[viewName].financials.data);
            }
            if(reportData[viewName].operationalFlow) {
                const flowBoxes = appContent.querySelectorAll('.flow-diagram-box');
                const flowDetail = appContent.querySelector('#flow-detail');
                const aiSolutionBtn = document.getElementById('ai-solution-btn');
                const aiResponseContainer = document.getElementById('ai-response-container');
                
                flowBoxes[0].classList.add('active');

                flowBoxes.forEach(box => {
                    box.addEventListener('click', () => {
                        flowBoxes.forEach(b => b.classList.remove('active'));
                        box.classList.add('active');
                        currentFlowStage = box.dataset.stage;
                        const stageData = reportData[viewName].operationalFlow.stages.find(s => s.id === currentFlowStage);
                        flowDetail.innerHTML = formatText(stageData.content);
                        aiResponseContainer.innerHTML = `<p class="text-slate-500">ä¸Šã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€é¸æŠä¸­ã®æ¥­å‹™èª²é¡Œã«å¯¾ã™ã‚‹AIã®è§£æ±ºç­–ã‚’ã”è¦§ãã ã•ã„ã€‚</p>`;
                    });
                });

                aiSolutionBtn.addEventListener('click', getAiSolution);
            }
        }
    }

    mainNav.addEventListener('click', (e) => {
        if (e.target.tagName === 'BUTTON') {
            const viewName = e.target.dataset.view;
            if (viewName) {
                mainNav.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                renderView(viewName);
            }
        }
    });

    // Initial render
    renderView('overview');
});
    </script>
</body>
</html> 